(()=>{var e={};e.id=311,e.ids=[311],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6573:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(2969),s(7972),s(6289);var r=s(2752),a=s(7380),i=s(459),n=s.n(i),l=s(8119),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["listings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2969)),"/home/ubuntu/provena/app/app/listings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7972)),"/home/ubuntu/provena/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,6289,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/provena/app/app/listings/page.tsx"],p="/listings/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/listings/page",pathname:"/listings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3543:(e,t,s)=>{Promise.resolve().then(s.bind(s,1826))},1826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(4848),a=s(5642),i=s(9631),n=s(8768),l=s(5669),c=s(6911),o=s(410),d=s(8287),p=s(207),m=s(93);let x=(0,m.Z)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),h=(0,m.Z)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),u=(0,m.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var g=s(7669),y=s(8291);function f(){let[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)("grid"),[f,j]=(0,a.useState)("date"),[v,N]=(0,a.useState)("desc"),[b,w]=(0,a.useState)(!0),[k,P]=(0,a.useState)(null),C=e=>{try{let s=[...y.w];if(e?.search&&""!==e.search.trim()){let t=e.search.toLowerCase().trim();s=s.filter(e=>e.title&&e.title.toLowerCase().includes(t)||e.city&&e.city.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t))}if(e?.location&&""!==e.location.trim()){let t=e.location.toLowerCase().trim();s=s.filter(e=>e.city&&e.city.toLowerCase().includes(t)||e.state&&e.state.toLowerCase().includes(t))}if(e?.propertyType&&""!==e.propertyType.trim()&&(s=s.filter(t=>t.propertyType===e.propertyType)),e?.minPrice&&""!==e.minPrice.trim()){let t=parseFloat(e.minPrice);!isNaN(t)&&t>0&&(s=s.filter(e=>e.price>=t))}if(e?.maxPrice&&""!==e.maxPrice.trim()){let t=parseFloat(e.maxPrice);!isNaN(t)&&t>0&&(s=s.filter(e=>e.price<=t))}if(e?.bedrooms&&""!==e.bedrooms.trim()){let t=parseInt(e.bedrooms);!isNaN(t)&&t>0&&(s=s.filter(e=>e.bedrooms>=t))}if(e?.bathrooms&&""!==e.bathrooms.trim()){let t=parseInt(e.bathrooms);!isNaN(t)&&t>0&&(s=s.filter(e=>e.bathrooms>=t))}if(e?.availability&&""!==e.availability.trim()&&("rent"===e.availability?s=s.filter(e=>e.isForRent):"invest"===e.availability?s=s.filter(e=>e.isForInvest):"both"===e.availability&&(s=s.filter(e=>e.isForRent&&e.isForInvest))),e?.minReturn&&""!==e.minReturn.trim()){let t=parseFloat(e.minReturn);!isNaN(t)&&t>0&&(s=s.filter(e=>e.expectedReturn>=t))}if(e?.maxReturn&&""!==e.maxReturn.trim()){let t=parseFloat(e.maxReturn);!isNaN(t)&&t>0&&(s=s.filter(e=>e.expectedReturn<=t))}s.sort((e,t)=>{let s,r;switch(f){case"price":s=e.price||0,r=t.price||0;break;case"return":s=e.expectedReturn||0,r=t.expectedReturn||0;break;default:s=new Date(e.createdAt||Date.now()).getTime(),r=new Date(t.createdAt||Date.now()).getTime()}return"asc"===v?s-r:r-s}),t(s),P(null)}catch(e){console.error("Error filtering properties:",e),P("Failed to filter properties")}},M=e=>{try{f===e?N("asc"===v?"desc":"asc"):(j(e),N("desc")),C({})}catch(e){console.error("Error sorting properties:",e)}};return k?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(n.Z,{}),(0,r.jsxs)("div",{className:"pt-24 pb-12 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Error Loading Page"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:k}),r.jsx(d.z,{onClick:()=>window.location.reload(),variant:"accent",children:"Try Again"})]}),r.jsx(l.Z,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(n.Z,{}),r.jsx("section",{className:"pt-24 pb-12 bg-gradient-to-br from-accent-brand/10 to-accent-brand-dark/10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6",children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-foreground",children:["Property ",r.jsx("span",{className:"text-accent-brand",children:"Listings"})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Explore our comprehensive collection of investment and rental properties. Use advanced filters to find exactly what you're looking for."}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-muted-foreground",children:[r.jsx(p.Z,{className:"h-5 w-5"}),(0,r.jsxs)("span",{children:[e.length," properties available"]})]})]})})}),r.jsx("section",{className:"py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(o.Z,{onFilterChange:C,showInvestmentFilters:!0}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-center mb-8 space-y-4 sm:space-y-0",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Showing ",e.length," properties"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Sort by:"}),(0,r.jsxs)(d.z,{variant:"date"===f?"accent":"ghost",size:"sm",onClick:()=>M("date"),className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Date"}),"date"===f&&("asc"===v?r.jsx(x,{className:"h-4 w-4"}):r.jsx(h,{className:"h-4 w-4"}))]}),(0,r.jsxs)(d.z,{variant:"price"===f?"accent":"ghost",size:"sm",onClick:()=>M("price"),className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Price"}),"price"===f&&("asc"===v?r.jsx(x,{className:"h-4 w-4"}):r.jsx(h,{className:"h-4 w-4"}))]}),(0,r.jsxs)(d.z,{variant:"return"===f?"accent":"ghost",size:"sm",onClick:()=>M("return"),className:"flex items-center space-x-1",children:[r.jsx("span",{children:"Return"}),"return"===f&&("asc"===v?r.jsx(x,{className:"h-4 w-4"}):r.jsx(h,{className:"h-4 w-4"}))]})]}),(0,r.jsxs)("div",{className:"flex items-center border border-border rounded-lg p-1",children:[r.jsx(d.z,{variant:"grid"===s?"accent":"ghost",size:"sm",onClick:()=>m("grid"),className:"p-2",children:r.jsx(u,{className:"h-4 w-4"})}),r.jsx(d.z,{variant:"list"===s?"accent":"ghost",size:"sm",onClick:()=>m("list"),className:"p-2",children:r.jsx(g.Z,{className:"h-4 w-4"})})]})]})]}),b?r.jsx("div",{className:`grid gap-8 ${"grid"===s?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:[...Array(6)].map((e,t)=>(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"bg-muted rounded-lg h-64 mb-4"}),r.jsx("div",{className:"bg-muted rounded h-4 mb-2"}),r.jsx("div",{className:"bg-muted rounded h-4 w-3/4"})]},t))}):r.jsx("div",{className:`grid gap-8 ${"grid"===s?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:e.map((e,t)=>r.jsx(c.Z,{property:e,showInvestmentInfo:!0,className:`animate-delay-${(t%6+1)*100}`},e.id))}),!b&&0===e.length&&(0,r.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[r.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"No properties match your current filters."}),r.jsx(d.z,{variant:"accent-outline",onClick:()=>C({}),children:"Clear All Filters"})]}),!b&&e.length>0&&e.length>=12&&r.jsx(i.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-12",children:r.jsx(d.z,{variant:"accent-outline",size:"lg",children:"Load More Properties"})})]})}),r.jsx(l.Z,{})]})}},2969:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(7138).createProxy)(String.raw`/home/ubuntu/provena/app/app/listings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[923,654,411,563,262,0,507,410],()=>s(6573));module.exports=r})();